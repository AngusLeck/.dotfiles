#!/usr/bin/python

import os
import sys

index = """
import web

urls = ('/', 'Index')
application = web.application(urls, globals())

web.config.debug = True

class Index:
    def GET(self, name):
        return "Hello World"

    def POST(self, name):
        return "Hello World"

if __name__ == '__main__':application.run()
"""

fileName = 'index.py'

gitIgnoreFileName = '.gitignore'

gitIgnore = """
    *.pyc
    *.swp
    *.orig
            """

def saveFile(name, content):
    f = open(name, 'w')
    f.write(content)
    f.close()

def executeBash(command):
    os.system(command)

def main():
    try:
        path = sys.argv[1]
    except Exception:
        path = 'hello-world'
    os.mkdir(path)
    os.chdir(path)
    saveFile(fileName, index)
    saveFile(gitIgnoreFileName, gitIgnore)
    executeBash('git init')
    print "Go code, all done..."

if __name__=='__main__':main()
